[gd_scene load_steps=15 format=4 uid="uid://dm3igb3h34frm"]

[ext_resource type="Script" path="res://scripts/game.gd" id="1_w1bvq"]
[ext_resource type="PackedScene" uid="uid://cckyy7pvonvg7" path="res://scenes/old_vehicle.tscn" id="2_goglh"]
[ext_resource type="TileSet" uid="uid://dfm6gj16u0smi" path="res://resources/Tileset.tres" id="3_kwkrj"]
[ext_resource type="Script" path="res://scripts/shop_panel.gd" id="4_6jia3"]
[ext_resource type="Script" path="res://scripts/module_resource.gd" id="5_gi02f"]
[ext_resource type="Resource" uid="uid://b4kd0tnacemog" path="res://resources/modules/armor.tres" id="6_8hdd4"]
[ext_resource type="Resource" uid="uid://cpry4cqiwpxx6" path="res://resources/modules/engine.tres" id="7_7x40w"]
[ext_resource type="Resource" uid="uid://cg81n10axhb5u" path="res://resources/modules/force_field.tres" id="8_v2u38"]
[ext_resource type="Resource" uid="uid://b7pl8mkhv5sww" path="res://resources/modules/nos.tres" id="9_nfequ"]
[ext_resource type="Texture2D" uid="uid://dri4jwnemntk6" path="res://assets/coin.png" id="10_ayiru"]
[ext_resource type="Texture2D" uid="uid://c0obnotrichpa" path="res://assets/tileset_terrain.png" id="11_ni5w0"]

[sub_resource type="AtlasTexture" id="AtlasTexture_qxvbi"]
atlas = ExtResource("10_ayiru")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_h02md"]
atlas = ExtResource("11_ni5w0")
region = Rect2(224, 128, 32, 32)

[sub_resource type="AtlasTexture" id="AtlasTexture_s3xmq"]
atlas = SubResource("AtlasTexture_h02md")

[node name="Garage" type="Node2D"]
script = ExtResource("1_w1bvq")

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(16, 32)
zoom = Vector2(3, 3)

[node name="vehicle" parent="Camera2D" instance=ExtResource("2_goglh")]
visible = false

[node name="BaseTileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
scale = Vector2(0.983518, 1.00707)
tile_map_data = PackedByteArray("AAD8/wAAAAADAAAAAAD8/wEAAAABAAAAAAD8/wIAAAAAAAAAAAD8/wMAAAADAAAAAAD9/wAAAAABAAAAAAD9/wEAAAACAAAAAAD9/wIAAAABAAAAAAD9/wMAAAAAAAAAAAD+/wAAAAABAAAAAAD+/wEAAAADAAAAAAD+/wIAAAABAAAAAAD+/wMAAAADAAAAAAD//wAAAAACAAAAAAD//wEAAAAAAAAAAAD//wIAAAADAAAAAAD//wMAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAADAAAAAAAAAAIAAAAAAAAAAAAAAAMAAAABAAAAAAA=")
tile_set = ExtResource("3_kwkrj")

[node name="ModulesTileMapLayer" type="TileMapLayer" parent="."]
y_sort_enabled = true
tile_set = ExtResource("3_kwkrj")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="ShopPanel" type="Control" parent="CanvasLayer"]
unique_name_in_owner = true
layout_mode = 3
anchors_preset = 0
offset_left = 60.0
offset_top = 68.0
offset_right = 192.0
offset_bottom = 200.0
script = ExtResource("4_6jia3")
available_modules = Array[ExtResource("5_gi02f")]([ExtResource("6_8hdd4"), ExtResource("7_7x40w"), ExtResource("8_v2u38"), ExtResource("9_nfequ")])

[node name="ModulesContainer" type="PanelContainer" parent="CanvasLayer/ShopPanel"]
layout_mode = 0
offset_right = 132.0
offset_bottom = 132.0

[node name="GridContainer" type="GridContainer" parent="CanvasLayer/ShopPanel/ModulesContainer"]
layout_mode = 2
columns = 2

[node name="DescriptionContainer" type="PanelContainer" parent="CanvasLayer/ShopPanel"]
layout_mode = 2
offset_top = 156.0
offset_right = 132.0
offset_bottom = 288.0

[node name="DescriptionLabel" type="Label" parent="CanvasLayer/ShopPanel/DescriptionContainer"]
unique_name_in_owner = true
layout_mode = 2

[node name="CurrencyContainer" type="PanelContainer" parent="CanvasLayer"]
offset_left = 60.0
offset_top = 383.0
offset_right = 125.0
offset_bottom = 423.0

[node name="MarginContainer" type="MarginContainer" parent="CanvasLayer/CurrencyContainer"]
layout_mode = 2
theme_override_constants/margin_left = 0
theme_override_constants/margin_right = 10

[node name="VBoxContainer" type="HBoxContainer" parent="CanvasLayer/CurrencyContainer/MarginContainer"]
layout_mode = 2

[node name="TextureRect" type="TextureRect" parent="CanvasLayer/CurrencyContainer/MarginContainer/VBoxContainer"]
layout_mode = 2
texture = SubResource("AtlasTexture_qxvbi")
expand_mode = 2
stretch_mode = 4

[node name="CurrencyLabel" type="Label" parent="CanvasLayer/CurrencyContainer/MarginContainer/VBoxContainer"]
unique_name_in_owner = true
layout_mode = 2
theme_override_font_sizes/font_size = 24
text = "?"

[node name="DoneButton" type="Button" parent="CanvasLayer"]
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_left = 60.0
offset_top = -82.0
offset_right = 129.0
offset_bottom = -40.0
grow_vertical = 0
theme_override_font_sizes/font_size = 24
text = "Done"

[node name="ShopModuleSprite" type="Sprite2D" parent="."]
visible = false
modulate = Color(1, 1, 1, 0.603922)
texture = SubResource("AtlasTexture_s3xmq")
